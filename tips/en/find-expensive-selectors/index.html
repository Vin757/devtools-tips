<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the most expensive CSS selectors</title>
    <link rel="stylesheet" type="text/css" href="/assets/style.css">
    <link rel="icon" href="/assets/favicon.ico" />
    <link rel="manifest" href="/manifest.json">
    <link rel="alternate" type="application/atom+xml" href="https://devtoolstips.org/feed.xml" />
    <meta property="og:title" content="DevTools Tips">
    <meta property="og:url" content="https://devtoolstips.org/tips/en/find-expensive-selectors/">
    
    <meta property="og:image" content="http://devtoolstips.org../../assets/img/find-expensive-selectors.png">
    <meta property="og:description" content="Find the most expensive CSS selectors">
    
    <meta name="twitter:site" content="@_devtoolstips">
    <meta property="og:site_name" content="DevTools Tips">
    <meta name="twitter:card" content="summary">
    <meta name="view-transition" content="same-origin" />
  </head>
  <body>
    <a href="#maincontent" class="skip-link">Skip to main content</a>
    <header>
      <a href="/" class="logo">Find the most expensive CSS selectors</a>
      <nav>
        <ul class="header-menu">
          <li><a href="/">All tips</a></li>
          <li tabindex="0">Categories
            <ul class="submenu-reveal"><li><a href="/tag/accessibility/">accessibility</a></li><li><a href="/tag/apps/">apps</a></li><li><a href="/tag/console/">console</a></li><li><a href="/tag/css/">css</a></li><li><a href="/tag/debug/">debug</a></li><li><a href="/tag/export/">export</a></li><li><a href="/tag/frameworks/">frameworks</a></li><li><a href="/tag/help/">help</a></li><li><a href="/tag/highlighter/">highlighter</a></li><li><a href="/tag/html/">html</a></li><li><a href="/tag/javascript/">javascript</a></li><li><a href="/tag/network/">network</a></li><li><a href="/tag/perf/">perf</a></li><li><a href="/tag/personalization/">personalization</a></li><li><a href="/tag/productivity/">productivity</a></li><li><a href="/tag/testing/">testing</a></li><li><a href="/tag/webcomponents/">webcomponents</a></li></ul>
          </li>
          <li tabindex="0">Browsers
            <ul class="submenu-reveal"><li><a href="/browser/chrome/">chrome</a></li><li><a href="/browser/edge/">edge</a></li><li><a href="/browser/firefox/">firefox</a></li><li><a href="/browser/polypane/">polypane</a></li><li><a href="/browser/safari/">safari</a></li></ul>
          </li>
        </ul>
      </nav>
    </header>
    <div class="header-shadow"></div>
    <div class="header-shadow-block"></div>
    <main id="maincontent" style="view-transition-name:post-find-expensive-selectors">
      <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
<h1 class="tip-title">Find the most expensive CSS selectors</h1>
<div class="tip-info">
    Categories:
    <ul class="tags"><li class="tag"><a href="/tag/css/">css</a></li><li class="tag"><a href="/tag/perf/">perf</a></li></ul>
    Supported by:
    <ul class="browsers"><li class="browser"><a href="/browser/edge/">edge</a></li></ul>
</div>
<div class="tip-content" data-pagefind-body>
    <p>When it comes to performance, we often spend time improving our JavaScript code. But CSS has a role to play too.
CSS selectors, in particular, can sometimes be slow to match to the DOM of the page.</p>
<p>Before rewriting all of your CSS selectors based on some &quot;guidelines&quot; you might have found on the web, it's really important to measure the performance of your webpage first. Don't make your selectors unnecessarily complicated because someone somewhere said that a particular selector was slow. Instead, measure the performance of your page, make sure that CSS is having a negative impact, improve your code, and then measure again!</p>
<p>So, now, how do you know if CSS is having a negative impact, and how to tell which CSS selectors may be at cause?</p>
<p>Microsoft Edge has a very useful new feature starting with Edge version 110 called <strong>Selector Stats</strong> that can help with this. Here's how to use it:</p>
<ol>
<li>Open the <strong>Performance</strong> tool in Edge.</li>
<li>Open the <strong>Settings</strong> of the tool by using the little cog icon in the top-right corner of the tool.</li>
<li>Check the <strong>Enable advanced rendering instrumentation (slow)</strong> box.</li>
<li>Start the perf recording, run through your scenario, and then stop the recording.</li>
<li>When the profile has loaded, identify the long <strong>Recalculate Style</strong> blocks (they are purple).</li>
<li>Click on one of them.</li>
<li>In the details section below, the <strong>Selector Stats</strong> tab appears, click on it.</li>
</ol>
<p>You now have access to the list of CSS selectors that got matched against the DOM tree of the web page during this style recalculation task. You can sort the table by elapsed time or match count to get an understanding of which selectors needed the most time to run.</p>
<p><img src="/assets/img/find-expensive-selectors.png" alt="The Edge DevTools Performance tool, showing a recorded profile with a selected Recalculate Style block, and the Selector Stats table below it."></p>

</div><div class="see-also">
    <h2>See also</h2>
    <ul><li>
            <a href="/tips/en/find-rule-that-causes-style">Find the CSS rule that causes a specific style to apply</a>
            <a href="/tips/en/find-rule-that-causes-style" class="other-tip-image">
                <img loading="lazy" src="/assets/img/find-rule-that-causes-style-1.png" alt="The Elements tool in Chrome, showing the Computed tab. The expander icon next to the CSS property has been clicked, revealing the stylesheet location where this style comes from">
            </a>
        </li><li>
            <a href="/tips/en/highlight-matching-elements">Highlight all the elements that a CSS rule matches</a>
            <a href="/tips/en/highlight-matching-elements" class="other-tip-image">
                <img loading="lazy" src="/assets/img/highlight-matching-elements.gif" alt="Animation showing how hovering over selectors in chrome highlights the matching elements in the page.">
            </a>
        </li><li>
            <a href="/tips/en/inspect-css-animations">Inspect CSS animations</a>
            <a href="/tips/en/inspect-css-animations" class="other-tip-image">
                <img loading="lazy" src="/assets/img/inspect-css-animation.gif" alt="Animation of Chrome DevTools showing how to inspect and modify CSS animations using the Animation inspector.">
            </a>
        </li><li>
            <a href="/tips/en/jump-to-css-variable">Jump from a CSS variable usage to where it is defined</a>
            <a href="/tips/en/jump-to-css-variable" class="other-tip-image">
                <img loading="lazy" src="/assets/img/jump-to-css-variable.gif" alt="Animation of clicking on a custom property link in the Styles panel in Edge.">
            </a>
        </li></ul>
</div><div class="tip-footer">
    <div class="authors">Authors: <span><a href="https://patrickbrosset.com">Patrick Brosset</a></span></div>
    <p class="last-edit">Last edit: <time datetime="2022-12-14T00:00:00.000Z">12/14/2022</time> - <a href="https://github.com/captainbrosset/devtools-tips/edit/main/./src/tips/en/find-expensive-selectors.md">Edit page</a></p>
</div>
<script async src="/assets/dialog-lightbox.js"></script>

    </main>
    <footer role="contentinfo">
      <p>Have ideas for other tips? We'd love you to submit them on <a href="https://github.com/captainbrosset/devtools-tips">our GitHub repository!</a> â™¥</p>
      <p>Find us on <a href="https://twitter.com/_devtoolstips">Twitter</a> and <a rel="me" href="https://front-end.social/@devtoolstips">Mastodon</a>.</p>
    </footer>

    
    
    <script>
      const pixel = new Image();
      let url = 'https://patrickbrosset.com/pixel.php';
      url += '?t=' + Date.now();
      url += '&url=' + encodeURIComponent(window.location.href);
      pixel.src = url;
    </script>
    

    
    
    <script>
      async function registerPeriodicSync() {
        const registration = await navigator.serviceWorker.ready;
        // Check if periodicSync is supported
        if ('periodicSync' in registration) {
          // Request permission
          const status = await navigator.permissions.query({
            name: 'periodic-background-sync',
          });

          if (status.state === 'granted') {
            try {
              // Register new sync every 24 hours
              await registration.periodicSync.register('update-cached-content', {
                minInterval: 24 * 60 * 60 * 1000, // 1 day
              });
              console.log('Periodic background sync registered!');
            } catch(e) {
              console.error(`Periodic background sync failed:\nx${e}`);
            }
          } else {
            console.info('Periodic background sync is not granted.');
          }
        } else {
          console.log('Periodic background sync is not supported.');
        }
      }

      if('serviceWorker' in navigator) {
        // Register the service worker
        navigator.serviceWorker.register('/sw.js', {
          scope: '/'
        });

        // Register the periodic background sync
        registerPeriodicSync();
      }
    </script>
    
  </body>
</html>
